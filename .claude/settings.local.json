{
  "permissions": {
    "allow": [
      "Bash(dir /s \"C:\\\\Users\\\\Tristyn\\\\Documents\\\\Hytale Server Test\\\\mods\\\\HyCitizens\")",
      "Bash(dir:*)",
      "Bash(powershell -Command:*)",
      "Bash(/tmp/search_template.ps1 << 'PSEOF'\n$directory = \"C:\\\\Users\\\\Tristyn\\\\Documents\\\\Hytale Server Test\\\\mods\\\\HyCitizens\\\\src\\\\main\\\\resources\\\\Server\\\\NPC\\\\Roles\\\\\"\n$files = Get-ChildItem -Path $directory -Filter \"*.json\" -Exclude \"Template_Citizen.json\"\n\nforeach \\($file in $files\\) {\n    $content = Get-Content -Path $file.FullName -Raw\n    if \\($content -match \"Template_Intelligent\"\\) {\n        Write-Host \"Found in: $\\($file.Name\\)\"\n    }\n}\nPSEOF)",
      "Bash(powershell -ExecutionPolicy Bypass -File:*)",
      "Bash(/tmp/search_reference.ps1 << 'PSEOF'\n$directory = \"C:\\\\Users\\\\Tristyn\\\\Documents\\\\Hytale Server Test\\\\mods\\\\HyCitizens\\\\src\\\\main\\\\resources\\\\Server\\\\NPC\\\\Roles\\\\\"\n$files = Get-ChildItem -Path $directory -Filter \"Citizen_*.json\"\n\nforeach \\($file in $files\\) {\n    $content = Get-Content -Path $file.FullName -Raw\n    if \\($content -match '\"Reference\"'\\) {\n        Write-Host \"Found Reference in: $\\($file.Name\\)\"\n    }\n}\nPSEOF)",
      "Bash(/tmp/update_references.ps1 << 'PSEOF'\n$directory = \"C:\\\\Users\\\\Tristyn\\\\Documents\\\\Hytale Server Test\\\\mods\\\\HyCitizens\\\\src\\\\main\\\\resources\\\\Server\\\\NPC\\\\Roles\\\\\"\n$files = Get-ChildItem -Path $directory -Filter \"Citizen_*.json\" -Exclude \"Template_Citizen.json\"\n\n$count = 0\nforeach \\($file in $files\\) {\n    $content = Get-Content -Path $file.FullName -Raw\n    if \\($content -match '\"Reference\":\\\\s*\"Template_Intelligent\"'\\) {\n        $newContent = $content -replace '\"Reference\":\\\\s*\"Template_Intelligent\"', '\"Reference\": \"Template_Citizen\"'\n        Set-Content -Path $file.FullName -Value $newContent -Encoding UTF8\n        Write-Host \"Updated: $\\($file.Name\\)\"\n        $count++\n    }\n}\n\nWrite-Host \"`nTotal files updated: $count\"\nPSEOF)",
      "Bash(/tmp/update_simple.ps1 << 'PSEOF'\n$directory = \"C:\\\\Users\\\\Tristyn\\\\Documents\\\\Hytale Server Test\\\\mods\\\\HyCitizens\\\\src\\\\main\\\\resources\\\\Server\\\\NPC\\\\Roles\\\\\"\n$files = Get-ChildItem -Path $directory -Filter \"Citizen_*.json\" -Exclude \"Template_Citizen.json\"\n\n$count = 0\nforeach \\($file in $files\\) {\n    $content = Get-Content -Path $file.FullName -Raw\n    if \\($content.Contains\\('\"Reference\": \"Template_Intelligent\"'\\)\\) {\n        $newContent = $content.Replace\\('\"Reference\": \"Template_Intelligent\"', '\"Reference\": \"Template_Citizen\"'\\)\n        Set-Content -Path $file.FullName -Value $newContent -Encoding UTF8\n        Write-Host \"Updated: $\\($file.Name\\)\"\n        $count++\n    }\n}\n\nWrite-Host \"`nTotal files updated: $count\"\nPSEOF)",
      "Bash(/tmp/final_update.ps1 << 'EOF'\n$directory = \"C:\\\\Users\\\\Tristyn\\\\Documents\\\\Hytale Server Test\\\\mods\\\\HyCitizens\\\\src\\\\main\\\\resources\\\\Server\\\\NPC\\\\Roles\\\\\"\n$filter = \"Citizen_*.json\"\n\n$files = Get-ChildItem -Path $directory -Filter $filter | Where-Object { $_.Name -ne \"Template_Citizen.json\" }\n\nWrite-Host \"Processing directory: $directory\"\nWrite-Host \"Found $\\($files.Count\\) files to process\"\nWrite-Host \"\"\n\n$count = 0\n$updated = @\\(\\)\n\nforeach \\($file in $files\\) {\n    $content = Get-Content -Path $file.FullName -Raw\n    \n    if \\($content.Contains\\('\"Reference\": \"Template_Intelligent\"'\\)\\) {\n        Write-Host \"Updating: $\\($file.Name\\)\"\n        $newContent = $content.Replace\\('\"Reference\": \"Template_Intelligent\"', '\"Reference\": \"Template_Citizen\"'\\)\n        Set-Content -Path $file.FullName -Value $newContent -Encoding UTF8 -NoNewline\n        $count++\n        $updated += $file.Name\n    }\n}\n\nWrite-Host \"\"\nWrite-Host \"=== Summary ===\"\nWrite-Host \"Total files updated: $count\"\nif \\($count -gt 0\\) {\n    Write-Host \"\"\n    Write-Host \"Updated files:\"\n    $updated | ForEach-Object { Write-Host \"  - $_\" }\n}\nEOF)",
      "Bash(findstr:*)",
      "Bash(python3:*)"
    ]
  }
}
